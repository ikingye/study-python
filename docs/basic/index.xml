<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>第一部分 基础入门 on Python 学习笔记</title><link>https://kingye.me/study-python/docs/basic/</link><description>Recent content in 第一部分 基础入门 on Python 学习笔记</description><generator>Hugo</generator><language>en</language><atom:link href="https://kingye.me/study-python/docs/basic/index.xml" rel="self" type="application/rss+xml"/><item><title>import</title><link>https://kingye.me/study-python/docs/basic/import/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://kingye.me/study-python/docs/basic/import/</guid><description>&lt;h1 id="import"&gt;import&lt;a class="anchor" href="#import"&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id="python-导入搜索顺序"&gt;Python 导入搜索顺序&lt;a class="anchor" href="#python-%e5%af%bc%e5%85%a5%e6%90%9c%e7%b4%a2%e9%a1%ba%e5%ba%8f"&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;当你启动 Python 时，它会构造一个列表 &lt;code&gt;sys.path&lt;/code&gt;，按从左到右顺序查找模块/包：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;脚本所在目录
&lt;ol&gt;
&lt;li&gt;或空字符串 &lt;code&gt;''&lt;/code&gt; 代表“当前工作目录”
&lt;ol&gt;
&lt;li&gt;当你用 python -c &amp;ldquo;&amp;hellip;&amp;rdquo; 执行命令时&lt;/li&gt;
&lt;li&gt;或者用 python -m modulename 模块方式运行&lt;/li&gt;
&lt;li&gt;或者在交互式解释器里直接执行时&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;PYTHONPATH 环境变量里声明的路径（如果有）&lt;/li&gt;
&lt;li&gt;标准库路径&lt;/li&gt;
&lt;li&gt;虚拟环境的 site-packages（&amp;hellip;/.venv/lib/pythonX.Y/site-packages）&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study/vllm# cat test.py
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;print&lt;span style="color:#f92672"&gt;(&lt;/span&gt;sys.path&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study/vllm# python test.py
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;/mnt/data1/yewang/study/vllm&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python312.zip&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12/lib-dynload&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/mnt/data1/yewang/study/vllm/.venv/lib/python3.12/site-packages&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study/vllm# cd ..
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study# python vllm/test.py
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;/mnt/data1/yewang/study/vllm&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python312.zip&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12/lib-dynload&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/mnt/data1/yewang/study/vllm/.venv/lib/python3.12/site-packages&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study/vllm# python -c &lt;span style="color:#e6db74"&gt;&amp;#34;import sys; print(sys.path)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python312.zip&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12/lib-dynload&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/mnt/data1/yewang/study/vllm/.venv/lib/python3.12/site-packages&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study/vllm# cd ..
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;vllm&lt;span style="color:#f92672"&gt;)&lt;/span&gt; root@lts-4090:/mnt/data1/yewang/study# python -c &lt;span style="color:#e6db74"&gt;&amp;#34;import sys; print(sys.path)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python312.zip&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/root/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/lib/python3.12/lib-dynload&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;/mnt/data1/yewang/study/vllm/.venv/lib/python3.12/site-packages&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;python -c &amp;quot;import vllm; print(vllm.**file**)&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;你在仓库根目录 /mnt/data1/yewang/study/vllm 下用 python -c &amp;hellip; 测试时，&lt;code&gt;sys.path[0] == ''&lt;/code&gt;（当前工作目录），第一个被查找的就是仓库根目录，这里恰好有个顶层目录 vllm/（源码包），于是就命中了源码版本，而不是 site-packages 里的已安装版本。&lt;/li&gt;
&lt;li&gt;跑 &lt;code&gt;examples/offline_inference/basic/basic.py&lt;/code&gt; 时，你又是在仓库里运行。多数情况下 sys.path[0] 会是 脚本所在目录（&amp;hellip;/examples/offline_inference/basic）。如果环境里 PYTHONPATH 含仓库根、或示例脚本/启动器做了路径注入（把仓库根加进 sys.path），仓库根就会进入前几位，仍然会先命中本地 vllm/。&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>python 文件</title><link>https://kingye.me/study-python/docs/basic/file/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://kingye.me/study-python/docs/basic/file/</guid><description>&lt;h1 id="python-文件"&gt;python 文件&lt;a class="anchor" href="#python-%e6%96%87%e4%bb%b6"&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;py 源码文件&lt;/li&gt;
&lt;li&gt;pyc 字节码文件&lt;/li&gt;
&lt;li&gt;pyi 类型指示文件&lt;/li&gt;
&lt;li&gt;pyd 扩展模块文件&lt;/li&gt;
&lt;li&gt;pyw 窗口文件&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>